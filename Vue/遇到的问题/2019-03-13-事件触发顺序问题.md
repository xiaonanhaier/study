### 想要实现的功能
引用 keyboard 组件，点击父组件num-button，keyboard弹出。点击其他区域隐藏 keyboard

1. 父组件
   ```
    <div class="num-button" @click="changeIsShowKeyboard(true)">
        {{number}}
        <v-keyboard @changeIsShowKeyboard="changeIsShowKeyboard" v-if="isShowKeyboard"
        @changeNumber="changeNumber" type="number" :limitLength="3" direction="row-reverse"></v-keyboard>
    </div>

    methods: {
        changeIsShowKeyboard (value) { // 改变是否显示数字键盘
            this.isShowKeyboard = value;
        },
    },
   ```
2. keyboard
   ```
    mounted () {
        document.addEventListener('click', this.closeKeyboard); // 添加一个点击事件
    }，
    methods: {
        // 点击组件以外的区域关闭键盘
        closeKeyboard () {
            if (!this.$refs.keyboardContent.contains(event.target)) {
                this.$emit('changeIsShowKeyboard', false);
            }
        }
    },
    beforeDestroy () {
        document.removeEventListener('click', this.closeKeyboard); // 移除点击事件
    }
   ```

### 遇到的问题
> keyboard 弹不出来

log 发现执行顺序为
1. 父组件 changeIsShowKeyboard true
2. keyboard mounted
3. keyboard closeKeyboard
4. 父组件 changeIsShowKeyboard false

左思右想的结果：
> 和时间的冒泡和捕获有关系
> 
> click的触发循序为： 父组件的 click -> 冒泡到 keyboard 在document上添加的点击事件

keyboard 代码做以下修改 功能实现
```
    mounted () {
        document.addEventListener('click', this.closeKeyboard, true); // 添加一个点击事件
    }，
    methods: {
        // 点击组件以外的区域关闭键盘
        closeKeyboard () {
            if (!this.$refs.keyboardContent.contains(event.target)) {
                this.$emit('changeIsShowKeyboard', false);
            }
        }
    },
    beforeDestroy () {
        document.removeEventListener('click', this.closeKeyboard, true); // 移除点击事件
    }
```

log 发现执行顺序为
1. 点击父组件时：
   1. 父组件 changeIsShowKeyboard true
   2. keyboard mounted
2. 点击父组件以外区域时
   1. keyboard closeKeyboard
   2. 父组件 changeIsShowKeyboard false

**注意一下**

> removeEventListener 是捕获和冒泡要分别移除。